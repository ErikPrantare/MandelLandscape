vec4
color(const in vec2 val)
{
    if(val.x == -1.0) return vec4(0.0, 0.0, 0.0, 1.0);

    vec3 colorVal = vec3(val.x, val.x + 3.14/2.0, val.x + 3.14);
    vec4 color = texture(tex, vec2(0.0, val.x))
            * vec4((0.5f * sin(colorVal) + 0.5f), 1.0f)
            * val.y;

    return color;
}
